<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Catálogo completo de productos para mascotas - PetMarket" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="/css/header.css" />
  <link rel="stylesheet" href="/css/footer.css" />
  <link rel="stylesheet" href="/css/assets.css" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/buttons.css" />
  <link rel="icon" href="/Imagenes/HuellaPerro.png" />
  <title>Catálogo de Productos - PetMarket</title>
  <link rel="stylesheet" href="/css/catalogo.css">
</head>

<body>
  <%- include('partials/headerUnificado') %>

    <main>
      <div class="container my-5">
        <!-- Header -->
        <div class="row mb-4">
          <div class="col-12 text-center">
            <h1 class="display-4 mb-3">Catálogo de Productos</h1>
            <p class="lead text-muted">
              Encuentra todo lo que necesitas para tu mascota
            </p>
          </div>
        </div>

        <!-- Filtros -->
        <div class="filter-card">
          <div class="row align-items-end">
            <div class="col-md-4 mb-3">
              <label for="busqueda" class="form-label fw-bold">
                <i class="fas fa-search me-2"></i>Buscar productos
              </label>
              <div class="search-container">
                <input type="text" class="form-control" id="busqueda" placeholder="Buscar por nombre..."
                  autocomplete="off" />
                <i class="fas fa-search search-icon"></i>
              </div>
            </div>
            <div class="col-md-4 mb-3">
              <label for="categoria" class="form-label fw-bold">
                <i class="fas fa-filter me-2"></i>Categoría
              </label>
              <select class="form-select" id="categoria">
                <option value="todas">Todas las categorías</option>
                <option value="alimentos">Alimentos</option>
                <option value="juguetes">Juguetes</option>
                <option value="accesorios">Accesorios</option>
                <option value="ropa">Ropa</option>
              </select>
            </div>
            <div class="col-md-4 mb-3">
              <button type="button" class="btn btn-outline-secondary w-100" id="limpiarFiltros">
                <i class="fas fa-times me-2"></i>Limpiar filtros
              </button>
            </div>
          </div>
        </div>

        <!-- Loading Spinner -->
        <div class="loading-spinner" id="loadingSpinner">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
          </div>
          <p class="mt-2">Cargando productos...</p>
        </div>

        <!-- Contador de productos -->
        <div class="row mb-3">
          <div class="col-12">
            <p class="text-muted" id="contadorProductos">
              <i class="fas fa-box me-2"></i>Mostrando
              <span id="cantidadProductos">0</span> productos
            </p>
          </div>
        </div>

        <!-- Productos -->
        <div class="row" id="productosContainer">
          <!-- Los productos se cargarán dinámicamente aquí -->
        </div>

        <!-- Mensaje cuando no hay productos -->
        <div class="no-products d-none" id="noProductos">
          <i class="fas fa-search fa-3x mb-3"></i>
          <h3>No se encontraron productos</h3>
          <p>Intenta ajustar los filtros de búsqueda</p>
        </div>

        <!-- Paginación -->
        <div class="row mt-4">
          <div class="col-12">
            <div id="paginacionContainer">
              <!-- Los controles de paginación se cargarán dinámicamente aquí -->
            </div>
          </div>
        </div>
      </div>
    </main>

    <%- include('partials/footer') %>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="/js/register.js"></script>
      <!-- Header unificado maneja toda la autenticación -->
      <script src="/js/headerUnificado.js"></script>
      <script src="/js/catalogo.js"></script>
</body>

</html>